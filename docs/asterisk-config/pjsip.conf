; /etc/asterisk/pjsip.conf
; PJSIP configuration - Transports only
; Endpoints, auths, aors are in the database via realtime

; =================================================================
; GLOBAL SETTINGS
; =================================================================
[global]
type=global
max_forwards=70
user_agent=MiniPBX-Asterisk
default_outbound_endpoint=default
debug=no

; =================================================================
; SYSTEM SETTINGS
; =================================================================
[system]
type=system
timer_t1=500
timer_b=32000
compact_headers=no

; =================================================================
; UDP TRANSPORT (Standard SIP)
; =================================================================
[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060
; Uncomment and set your external IP if behind NAT
; external_media_address=YOUR.PUBLIC.IP.HERE
; external_signaling_address=YOUR.PUBLIC.IP.HERE
local_net=192.168.0.0/16
local_net=10.0.0.0/8
local_net=172.16.0.0/12

; =================================================================
; TCP TRANSPORT
; =================================================================
[transport-tcp]
type=transport
protocol=tcp
bind=0.0.0.0:5060

; =================================================================
; TLS TRANSPORT (Secure SIP)
; =================================================================
; [transport-tls]
; type=transport
; protocol=tls
; bind=0.0.0.0:5061
; cert_file=/etc/asterisk/keys/asterisk.pem
; priv_key_file=/etc/asterisk/keys/asterisk.key
; ca_list_file=/etc/asterisk/keys/ca.crt
; method=tlsv1_2
; verify_server=no
; verify_client=no

; =================================================================
; WEBSOCKET TRANSPORT (WebRTC)
; =================================================================
[transport-wss]
type=transport
protocol=wss
bind=0.0.0.0:8089
; cert_file=/etc/asterisk/keys/asterisk.pem
; priv_key_file=/etc/asterisk/keys/asterisk.key
; ca_list_file=/etc/asterisk/keys/ca.crt

; =================================================================
; ANONYMOUS ENDPOINT (for inbound calls that don't match)
; =================================================================
[anonymous]
type=endpoint
context=from-external
disallow=all
allow=ulaw,alaw
transport=transport-udp

; =================================================================
; DEFAULT ENDPOINT (fallback)
; =================================================================
[default]
type=endpoint
context=from-external
disallow=all
allow=ulaw,alaw
transport=transport-udp

; =================================================================
; TRUNK TEMPLATES (Example)
; =================================================================
; Add your SIP trunk configurations here
; Example:
; [my-provider]
; type=endpoint
; context=from-trunk
; disallow=all
; allow=ulaw,alaw,g722
; outbound_auth=my-provider-auth
; aors=my-provider
; 
; [my-provider-auth]
; type=auth
; auth_type=userpass
; username=your_username
; password=your_password
; 
; [my-provider]
; type=aor
; contact=sip:sip.provider.com:5060
; 
; [my-provider-registration]
; type=registration
; outbound_auth=my-provider-auth
; server_uri=sip:sip.provider.com
; client_uri=sip:your_username@sip.provider.com
; retry_interval=60


